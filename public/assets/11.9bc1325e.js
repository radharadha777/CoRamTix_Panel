(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{419:function(e,a,t){"use strict";t.r(a);var r=t(1),n=t(0),o=t.n(n),i=t(52),c=t(173),s=t(55),l=t(274),d=t(53),m=t(162),u=t(177),p=t(187),v=t(192),g=t(165),h=t(238),y=t(203);const f=["minecraft 1.17 requires running the server with java 16 or above","minecraft 1.18 requires running the server with java 17 or above","java.lang.unsupportedclassversionerror","unsupported major.minor version","has been compiled by a more recent version of the java runtime"];a.default=()=>{const[e,a]=Object(n.useState)(!1),[t,r]=Object(n.useState)(!1),[s,d]=Object(n.useState)(""),E=i.a.useStoreState((e=>e.server.data.uuid)),k=i.a.useStoreState((e=>e.status.value)),{clearFlashes:C,clearAndAddHttpError:V}=Object(m.a)(),{instance:I}=i.a.useStoreState((e=>e.socket)),{data:J,isValidating:T,mutate:F}=Object(h.a)(E,null,{revalidateOnMount:!1});Object(n.useEffect)((()=>{e&&F().then((e=>{d(Object.values((null==e?void 0:e.dockerImages)||[])[0]||"")}))}),[e]),Object(v.a)(u.a.CONSOLE_OUTPUT,(e=>{"running"!==k&&f.some((a=>e.toLowerCase().includes(a.toLowerCase())))&&a(!0)}));return Object(n.useEffect)((()=>{C("feature:javaVersion")}),[]),o.a.createElement(c.b,{visible:e,onDismissed:()=>a(!1),closeOnBackground:!1,showSpinnerOverlay:t},o.a.createElement(w,{key:"feature:javaVersion"}),o.a.createElement(b,null,"Unsupported Java Version"),o.a.createElement(j,null,"This server is currently running an unsupported version of Java and cannot be started.",o.a.createElement(g.a,{action:"startup.docker-image"},"Â Please select a supported version from the list below to continue starting the server.")),o.a.createElement(g.a,{action:"startup.docker-image"},o.a.createElement(O,null,o.a.createElement(y.a,{visible:!J||T},o.a.createElement(p.a,{disabled:!J,onChange:e=>d(e.target.value)},J?Object.keys(J.dockerImages).map((e=>o.a.createElement("option",{key:e,value:J.dockerImages[e]},e))):o.a.createElement("option",{disabled:!0}))))),o.a.createElement(_,null,o.a.createElement(S,{isSecondary:!0,onClick:()=>a(!1)},"Cancel"),o.a.createElement(g.a,{action:"startup.docker-image"},o.a.createElement(x,{onClick:()=>{r(!0),C("feature:javaVersion"),Object(l.a)(E,s).then((()=>{"offline"===k&&I&&I.send(u.b.SET_STATE,"restart"),a(!1)})).catch((e=>V({key:"feature:javaVersion",error:e}))).then((()=>r(!1)))}},"Update Docker Image"))))};var w=Object(r.c)(d.a).withConfig({displayName:"JavaVersionModalFeature___StyledFlashMessageRender",componentId:"sc-1xf533y-0"})({marginBottom:"1rem"}),b=Object(r.c)("h2").withConfig({displayName:"JavaVersionModalFeature___StyledH",componentId:"sc-1xf533y-1"})({fontSize:"1.5rem",lineHeight:"2rem",marginBottom:"1rem","--tw-text-opacity":"1",color:"rgb(var(--color-100) / var(--tw-text-opacity))"}),j=Object(r.c)("p").withConfig({displayName:"JavaVersionModalFeature___StyledP",componentId:"sc-1xf533y-2"})({marginTop:"1rem"}),O=Object(r.c)("div").withConfig({displayName:"JavaVersionModalFeature___StyledDiv",componentId:"sc-1xf533y-3"})({marginTop:"1rem"}),_=Object(r.c)("div").withConfig({displayName:"JavaVersionModalFeature___StyledDiv2",componentId:"sc-1xf533y-4"})({marginTop:"2rem",display:"flex",flexDirection:"column",justifyContent:"flex-end","> :not([hidden]) ~ :not([hidden])":{"--tw-space-y-reverse":0,marginTop:"calc(1rem * calc(1 - var(--tw-space-y-reverse)))",marginBottom:"calc(1rem * var(--tw-space-y-reverse))"},"@media (min-width: 640px)":{flexDirection:"row","> :not([hidden]) ~ :not([hidden])":{"--tw-space-x-reverse":0,marginRight:"calc(1rem * var(--tw-space-x-reverse))",marginLeft:"calc(1rem * calc(1 - var(--tw-space-x-reverse)))","--tw-space-y-reverse":0,marginTop:"calc(0px * calc(1 - var(--tw-space-y-reverse)))",marginBottom:"calc(0px * var(--tw-space-y-reverse))"}}}),S=Object(r.c)(s.a).withConfig({displayName:"JavaVersionModalFeature___StyledButton",componentId:"sc-1xf533y-5"})({width:"100%","@media (min-width: 640px)":{width:"auto"}}),x=Object(r.c)(s.a).withConfig({displayName:"JavaVersionModalFeature___StyledButton2",componentId:"sc-1xf533y-6"})({width:"100%","@media (min-width: 640px)":{width:"auto"}})}}]);