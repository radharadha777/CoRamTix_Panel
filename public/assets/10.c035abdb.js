(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{420:function(e,t,a){"use strict";a.r(t);var n=a(1),o=a(0),r=a.n(o),i=a(52),l=a(173),c=a(55),s=a(53),m=a(162),d=a(177),u=a(168),p=a(273),g=a(164);t.default=()=>{const[e,t]=Object(o.useState)(!1),[a,n]=Object(o.useState)(!1),c=i.a.useStoreState((e=>e.server.data.uuid)),s=i.a.useStoreState((e=>e.status.value)),{clearFlashes:_,clearAndAddHttpError:w}=Object(m.a)(),{connected:O,instance:v}=i.a.useStoreState((e=>e.socket));Object(o.useEffect)((()=>{if(!O||!v||"running"===s)return;const e=["(gsl token expired)","(account not found)"],a=a=>{e.some((e=>a.toLowerCase().includes(e)))&&t(!0)};return v.addListener(d.a.CONSOLE_OUTPUT,a),()=>{v.removeListener(d.a.CONSOLE_OUTPUT,a)}}),[O,v,s]);return Object(o.useEffect)((()=>{_("feature:gslToken")}),[]),r.a.createElement(g.c,{onSubmit:e=>{n(!0),_("feature:gslToken"),Object(p.a)(c,"STEAM_ACC",e.gslToken).then((()=>{v&&v.send(d.b.SET_STATE,"restart"),n(!1),t(!1)})).catch((e=>{console.error(e),w({key:"feature:gslToken",error:e})})).then((()=>n(!1)))},initialValues:{gslToken:""}},r.a.createElement(l.b,{visible:e,onDismissed:()=>t(!1),closeOnBackground:!1,showSpinnerOverlay:a},r.a.createElement(S,{key:"feature:gslToken"}),r.a.createElement(g.b,null,r.a.createElement(T,null,"Invalid GSL token!"),r.a.createElement(k,null,"It seems like your Gameserver Login Token (GSL token) is invalid or has expired."),r.a.createElement(f,null,"You can either generate a new one and enter it below or leave the field blank to remove it completely."),r.a.createElement(y,null,r.a.createElement(u.a,{name:"gslToken",label:"GSL Token",description:"Visit https://steamcommunity.com/dev/managegameservers to generate a token.",autoFocus:!0})),r.a.createElement(b,null,r.a.createElement(h,{type:"submit"},"Update GSL Token")))))};var S=Object(n.c)(s.a).withConfig({displayName:"GSLTokenModalFeature___StyledFlashMessageRender",componentId:"sc-p12u8t-0"})({marginBottom:"1rem"}),T=Object(n.c)("h2").withConfig({displayName:"GSLTokenModalFeature___StyledH",componentId:"sc-p12u8t-1"})({fontSize:"1.5rem",lineHeight:"2rem",marginBottom:"1rem","--tw-text-opacity":"1",color:"rgb(var(--color-100) / var(--tw-text-opacity))"}),k=Object(n.c)("p").withConfig({displayName:"GSLTokenModalFeature___StyledP",componentId:"sc-p12u8t-2"})({marginTop:"1rem"}),f=Object(n.c)("p").withConfig({displayName:"GSLTokenModalFeature___StyledP2",componentId:"sc-p12u8t-3"})({marginTop:"1rem"}),y=Object(n.c)("div").withConfig({displayName:"GSLTokenModalFeature___StyledDiv",componentId:"sc-p12u8t-4"})({alignItems:"center",marginTop:"1rem","@media (min-width: 640px)":{display:"flex"}}),b=Object(n.c)("div").withConfig({displayName:"GSLTokenModalFeature___StyledDiv2",componentId:"sc-p12u8t-5"})({marginTop:"2rem",alignItems:"center",justifyContent:"flex-end","@media (min-width: 640px)":{display:"flex"}}),h=Object(n.c)(c.a).withConfig({displayName:"GSLTokenModalFeature___StyledButton",componentId:"sc-p12u8t-6"})({marginTop:"1rem",width:"100%","@media (min-width: 640px)":{marginTop:"0px",marginLeft:"1rem",width:"auto"}})}}]);